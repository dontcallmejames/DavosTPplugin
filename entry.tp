{
  "api": 10,
  "version": 2,
  "name": "Davos Assistant",
  "id": "com_dontcallmejames_davos",
  "configuration": {
    "colorDark": "#8b1a1a",
    "colorLight": "#c9a84c",
    "parentCategory": "misc"
  },
  "plugin_start_cmd": "%TP_PLUGIN_FOLDER%DavosTPplugin\\node.exe %TP_PLUGIN_FOLDER%DavosTPplugin\\index.js",
  "plugin_start_cmd_windows": "%TP_PLUGIN_FOLDER%DavosTPplugin\\node.exe %TP_PLUGIN_FOLDER%DavosTPplugin\\index.js",
  "settings": [
    {
      "name": "Gateway Host",
      "type": "text",
      "default": "127.0.0.1",
      "readOnly": false
    },
    {
      "name": "Gateway Port",
      "type": "text",
      "default": "8080",
      "readOnly": false
    }
  ],
  "categories": [
    {
      "id": "com_dontcallmejames_davos_main",
      "name": "Davos",
      "imagepath": "%TP_PLUGIN_FOLDER%DavosTPplugin\\icon.png",
      "actions": [
        {
          "id": "com_dontcallmejames_davos_action_chat",
          "name": "Send Message to Davos",
          "prefix": "Davos",
          "type": "communicate",
          "description": "Send a chat message to the Davos assistant and receive a response",
          "format": "Say to Davos: {0}",
          "data": [
            {
              "id": "com_dontcallmejames_davos_action_chat_message",
              "type": "text",
              "label": "Message",
              "default": ""
            }
          ]
        },
        {
          "id": "com_dontcallmejames_davos_action_search",
          "name": "Web Search via Davos",
          "prefix": "Davos",
          "type": "communicate",
          "description": "Ask Davos to search the web and return results",
          "format": "Search: {0}",
          "data": [
            {
              "id": "com_dontcallmejames_davos_action_search_query",
              "type": "text",
              "label": "Search Query",
              "default": ""
            }
          ]
        },
        {
          "id": "com_dontcallmejames_davos_action_briefing",
          "name": "Morning Briefing",
          "prefix": "Davos",
          "type": "communicate",
          "description": "Trigger a morning briefing from Davos",
          "format": "Get morning briefing"
        },
        {
          "id": "com_dontcallmejames_davos_action_kill",
          "name": "Kill Switch â€” Stop All Tasks",
          "prefix": "Davos",
          "type": "communicate",
          "description": "Immediately halt all active Davos tasks and subagents",
          "format": "Kill all Davos tasks"
        },
        {
          "id": "com_dontcallmejames_davos_action_clear",
          "name": "Clear Last Response",
          "prefix": "Davos",
          "type": "communicate",
          "description": "Clear the last response state",
          "format": "Clear Davos response"
        }
      ],
      "states": [
        {
          "id": "com_dontcallmejames_davos_state_response",
          "type": "text",
          "desc": "Davos Last Response",
          "default": ""
        },
        {
          "id": "com_dontcallmejames_davos_state_status",
          "type": "choice",
          "desc": "Davos Connection Status",
          "default": "Disconnected",
          "valueChoices": ["Connected", "Disconnected", "Thinking...", "Killed"]
        },
        {
          "id": "com_dontcallmejames_davos_state_thinking",
          "type": "choice",
          "desc": "Davos Is Thinking",
          "default": "false",
          "valueChoices": ["true", "false"]
        }
      ],
      "events": [
        {
          "id": "com_dontcallmejames_davos_event_connected",
          "name": "Davos Connection Changed",
          "format": "When Davos is $val",
          "type": "communicate",
          "valueChoices": ["Connected", "Disconnected", "Killed"],
          "valueType": "choice",
          "valueStateId": "com_dontcallmejames_davos_state_status"
        },
        {
          "id": "com_dontcallmejames_davos_event_thinking",
          "name": "Davos Thinking Changed",
          "format": "When Davos thinking is $val",
          "type": "communicate",
          "valueChoices": ["true", "false"],
          "valueType": "choice",
          "valueStateId": "com_dontcallmejames_davos_state_thinking"
        }
      ]
    }
  ]
}
